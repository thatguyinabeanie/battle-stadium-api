---
openapi: 3.0.1
info:
  title: API V1
  version: v1
paths:
  "/api/v1/games":
    get:
      summary: List Games
      tags:
      - Games
      description: Retrieves a list of all games
      operationId: listGames
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Game"
    post:
      summary: Create Game
      tags:
      - Games
      description: Creates a new game.
      operationId: postGame
      parameters: []
      responses:
        '201':
          description: created
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/GameDetail"
        '400':
          description: bad reqiest
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                game:
                  type: object
                  title: postGame
                  properties:
                    name:
                      type: string
                  required:
                  - name
              required:
              - game
  "/api/v1/games/{id}":
    parameters:
    - name: id
      in: path
      description: ID of the game
      required: true
      schema:
        type: string
    get:
      summary: Show Game
      tags:
      - Games
      description: Retrieves a specific game by ID.
      operationId: getGame
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/GameDetail"
        '404':
          description: not found
    patch:
      summary: Update Game
      tags:
      - Games
      description: Updates a game by ID.
      operationId: patchGame
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/GameDetail"
        '404':
          description: not found
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                game:
                  type: object
                  properties:
                    name:
                      type: string
                  required:
                  - name
              required:
              - game
    delete:
      summary: Delete Game
      tags:
      - Games
      description: Deletes a game by ID.
      operationId: deleteGame
      responses:
        '200':
          description: successful
        '404':
          description: not found
  "/api/v1/organizations":
    get:
      summary: List Organizations
      tags:
      - Organizations
      operationId: listOrganizations
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Organization"
    post:
      summary: Create Organization
      tags:
      - Organizations
      description: Creates a new organization.
      operationId: postOrganization
      parameters: []
      responses:
        '201':
          description: created
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/OrganizationDetails"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                organization:
                  type: object
                  title: postOrganization
                  properties:
                    name:
                      type: string
                    description:
                      type: string
                    owner_id:
                      type: integer
                  required:
                  - name
                  - description
  "/api/v1/organizations/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: Show Organization
      tags:
      - Organizations
      description: Retrieves a specific organization.
      operationId: getOrganization
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/OrganizationDetails"
        '404':
          description: not found
    patch:
      summary: Update Organization
      tags:
      - Organizations
      description: Updates an existing organization.
      operationId: patchOrganization
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/OrganizationDetails"
        '404':
          description: not found
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                organization:
                  type: object
                  title: patchOrganization
                  properties:
                    name:
                      type: string
                    description:
                      type: string
                    owner_id:
                      type: integer
                  required:
                  - name
                  - description
    delete:
      summary: Delete Organization
      tags:
      - Organizations
      description: Deletes an organization.
      operationId: deleteOrganization
      responses:
        '200':
          description: Organization deleted
        '404':
          description: not found
  "/api/v1/organizations/{id}/staff":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: List Organization Staff
      tags:
      - Organizations
      description: Retrieves a list of staff members for a specific organization.
      operationId: getOrganizationStaff
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/User"
        '404':
          description: not found
  "/api/v1/tournaments/{tournament_id}/players":
    parameters:
    - name: tournament_id
      in: path
      description: ID of the tournament
      required: true
      schema:
        type: integer
    get:
      summary: List Players
      tags:
      - Players
      description: Retrieves a list of all Players
      operationId: listPlayers
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Player"
        '404':
          description: not found
    post:
      summary: Create Player
      tags:
      - Players
      description: Creates a new Player.
      operationId: postPlayer
      parameters: []
      responses:
        '201':
          description: created
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/PlayerDetails"
        '404':
          description: not found
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                player:
                  type: object
                  title: postPlayer
                  properties:
                    user_id:
                      type: integer
                    team_sheet_submitted:
                      type: boolean
                    tournament_id:
                      type: integer
                  required:
                  - user_id
                  - team_sheet_submitted
                  - tournament_id
  "/api/v1/tournaments/{tournament_id}/players/{id}":
    get:
      summary: Show Player
      tags:
      - Players
      description: Retrieves a Player
      operationId: showPlayer
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      - name: tournament_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/PlayerDetails"
    put:
      summary: Update Player
      tags:
      - Players
      description: Updates a Player.
      operationId: putPlayer
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      - name: tournament_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/PlayerDetails"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                player:
                  type: object
                  title: putPlayer
                  properties:
                    user_id:
                      type: integer
                    team_sheet_submitted:
                      type: boolean
                    tournament_id:
                      type: integer
                  required:
                  - user_id
                  - team_sheet_submitted
                  - tournament_id
    delete:
      summary: Delete Player
      tags:
      - Players
      description: Deletes a Player.
      operationId: deletePlayer
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
      - name: tournament_id
        in: path
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: successful
        '404':
          description: not found
  "/api/v1/users":
    get:
      summary: List Users
      tags:
      - Users
      description: Retrieves a list of all Users
      operationId: listUsers
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/User"
    post:
      summary: Create User
      tags:
      - Users
      description: Creates a new User.
      operationId: postUser
      parameters: []
      responses:
        '201':
          description: created
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/UserDetails"
        '422':
          description: unprocessable entity
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  title: postUser
                  properties:
                    username:
                      type: string
                    email:
                      type: string
                    first_name:
                      type: string
                    last_name:
                      type: string
                    pronouns:
                      type: string
                    password:
                      type: string
                    password_confirmation:
                      type: string
                  required:
                  - username
                  - email
                  - first_name
                  - last_name
                  - password
                  - password_confirmation
  "/api/v1/users/{id}":
    parameters:
    - name: id
      in: path
      description: ID of the User
      required: true
      schema:
        type: integer
    get:
      summary: Show User
      tags:
      - Users
      description: Retrieves a specific User by ID.
      operationId: getUser
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/UserDetails"
        '404':
          description: not found
    patch:
      summary: Update User
      tags:
      - Users
      description: Updates an existing User.
      operationId: patchUser
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/UserDetails"
        '404':
          description: not found
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  title: patchUser
                  properties:
                    username:
                      type: string
                    email:
                      type: string
                    password:
                      type: string
                    first_name:
                      type: string
                    last_name:
                      type: string
                    pronouns:
                      type: string
                  required:
                  - username
                  - email
                  - password
                  - first_name
                  - last_name
              required:
              - user
    delete:
      summary: Delete User
      tags:
      - Users
      operationId: deleteUser
      responses:
        '200':
          description: successful
        '404':
          description: not found
servers:
- url: https://{defaultHost}
  variables:
    defaultHost:
      default: 127.0.0.1
components:
  responses:
    NotFound:
      description: Not found
  schemas:
    Format:
      type: object
      title: Format
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
    Game:
      type: object
      title: Game
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
      required:
      - id
      - name
      - slug
    GameDetail:
      type: object
      title: GameDetail
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        formats:
          type: array
          items:
            "$ref": "#/components/schemas/Format"
      required:
      - id
      - name
      - slug
      - formats
    User:
      type: object
      title: User
      properties:
        id:
          type: integer
        username:
          type: string
        pronouns:
          type: string
      required:
      - id
      - username
      - pronouns
    UserDetails:
      type: object
      title: UserDetails
      properties:
        id:
          type: integer
        username:
          type: string
        email:
          type: string
        first_name:
          type: string
        last_name:
          type: string
        pronouns:
          type: string
        slug:
          type: string
      required:
      - id
      - username
      - email
      - first_name
      - last_name
      - pronouns
      - slug
    Organization:
      type: object
      title: Organization
      properties:
        id:
          type: integer
        name:
          type: string
        owner:
          "$ref": "#/components/schemas/User"
      required:
      - id
      - name
      - owner
    OrganizationDetails:
      type: object
      title: OrganizationDetails
      properties:
        id:
          type: integer
        name:
          type: string
        owner:
          "$ref": "#/components/schemas/UserDetails"
        description:
          type: string
        slug:
          type: string
        updated_at:
          type: string
          format: date-time
        created_at:
          type: string
          format: date-time
      required:
      - id
      - name
      - owner
      - description
      - slug
      - created_at
      - updated_at
    Tournament:
      type: object
      title: Tournament
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        organization:
          "$ref": "#/components/schemas/Organization"
        format:
          "$ref": "#/components/schemas/Format"
        game:
          "$ref": "#/components/schemas/Game"
        player_cap:
          type: integer
          nullable: true
        autostart:
          type: boolean
        start_at:
          type: string
          format: date-time
        end_at:
          type: string
          format: date-time
        started_at:
          type: string
          format: date-time
        ended_at:
          type: string
          format: date-time
        check_in_required:
          type: boolean
        late_check_in:
          type: boolean
        check_in_start_at:
          type: string
          format: date-time
        late_registration:
          type: boolean
        registration_start_at:
          type: string
          format: date-time
        registration_end_at:
          type: string
          format: date-time
        teamlists_required:
          type: boolean
        open_team_sheets:
          type: boolean
      required:
      - id
      - name
      - organization
      - format
      - game
      - start_at
      - player_cap
      - autostart
      - check_in_required
      - late_check_in
      - check_in_start_at
      - late_registration
      - registration_start_at
      - registration_end_at
      - teamlists_required
      - open_team_sheets
    TournamentDetails:
      type: object
      title: TournamentDetails
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
        organization:
          "$ref": "#/components/schemas/Organization"
        format:
          "$ref": "#/components/schemas/Format"
        game:
          "$ref": "#/components/schemas/Game"
        player_cap:
          type: integer
          nullable: true
        autostart:
          type: boolean
        start_at:
          type: string
          format: date-time
        end_at:
          type: string
          format: date-time
        started_at:
          type: string
          format: date-time
        ended_at:
          type: string
          format: date-time
        check_in_required:
          type: boolean
        late_check_in:
          type: boolean
        check_in_start_at:
          type: string
          format: date-time
        late_registration:
          type: boolean
        registration_start_at:
          type: string
          format: date-time
        registration_end_at:
          type: string
          format: date-time
        teamlists_required:
          type: boolean
        open_team_sheets:
          type: boolean
      required:
      - id
      - name
      - organization
      - format
      - game
      - start_at
      - player_cap
      - autostart
      - check_in_required
      - late_check_in
      - check_in_start_at
      - late_registration
      - registration_start_at
      - registration_end_at
      - teamlists_required
      - open_team_sheets
    PokemonSet:
      type: object
      title: PokemonSet
      properties:
        name:
          type: string
        ability:
          type: string
        tera_type:
          type: string
        nature:
          type: string
        held_item:
          type: string
        move1:
          type: string
        move2:
          type: string
        move3:
          type: string
        move4:
          type: string
      required:
      - name
      - ability
      - tera_type
      - nature
      - held_item
      - move1
      - move2
      - move3
      - move4
    Player:
      type: object
      title: Player
      properties:
        user:
          "$ref": "#/components/schemas/User"
        checked_in:
          type: boolean
        checked_in_at:
          type: string
          format: date-time
          nullable: true
        team_sheet_submitted:
          type: boolean
        team_sheet_submitted_at:
          type: string
          format: date-time
          nullable: true
      required:
      - id
      - user
      - checked_in
      - checked_in_at
      - team_sheet_submitted
      - team_sheet_submitted_at
    PlayerDetails:
      type: object
      title: PlayerDetails
      properties:
        user:
          "$ref": "#/components/schemas/User"
        checked_in:
          type: boolean
        checked_in_at:
          type: string
          format: date-time
          nullable: true
        team_sheet_submitted:
          type: boolean
        team_sheet_submitted_at:
          type: string
          format: date-time
          nullable: true
        pokemon_sets:
          type: array
          items:
            "$ref": "#/components/schemas/PokemonSet"
